FROM openjdk:oracle

RUN mkdir /usr/src/app

WORKDIR /usr/src/app

COPY target/spring-mongodb-0.0.1-SNAPSHOT.jar /usr/src/app

ENV MAIL_HOST=smtp.gmail.com
ENV MAIL_USERNAME=vutatthanh.hl96@gmail.com
ENV MAIL_PASSWORD="mmrd hetn umes ntgb"
ENV MAIL_TRANSPORT_PROTOCOL=smtp
ENV MAIL_SMTP_PORT=587
ENV MAIL_SMTP_AUTH=true
ENV MAIL_SMTP_STARTTLS_ENABLE=true

ENV BACKEND_HOST=http://localhost:8080
ENV FRONTEND_HOST=http://localhost:4200

ENV PRIVATE_KEY=LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlDWEFJQkFBS0JnUUMyeHJsMllzM1htclBLRzRQc04rWThFUGthbWJIcXU0bjlOeFlIbzZ6SHlZZEVaR1JzCjFTT0ZMdnlCMnQwK0wrUnVCblp0bWhMT2xFK1hUazNOVXA1MDdNMkVmeGp2T1B3WncyV3hxQlpCVTZGc1B0WFoKOUE2YTkxZDJrNTY0N0hSL1pZL29UZDlaWE03T0RKa1RPbFRtSkF4V01icGd0eGZlNG93T1VzZnE2d0lEQVFBQgpBb0dBSklqY2tabDJZOTU4aWEydVZRMW5iQ0pJYU5USUI0K3RLWHhWWHZtTWsvTG9vdmNlUzlMZTRzUmRuT2RPCnlodHdvYjJROXArUm10RnloMkFUbFRNcWtRVjkveUw2YmVqKzJhYmZ6Z0ZSRGVLdjNMREZZWEw3SmZXQUFDRjYKWEY2MUxmVm9TbkVTMGlQbzF3T3orTkdMcklYYTRVR1ZSL0JpRGRJVjlGSzRaaUVDUVFEMmNKeExiZm9pR2dtVAp1cDhoV0JhUEZQNCtTYVNlbjZtTmdSTWtFc045aFU4TnBCT3pPdTJONEs5Z0xrNDJlZ1M5dzg0UEt1SkNLVjFECldURkRzOEZmQWtFQXZkM2ZNWWJUa1F0d3hLQzhyUkJDVFNibTFsL3NBVkFnWVROZ1c3aTJmTDFpQWZoL0k4MWwKZ0dRc3A2c3JkcXlRaTBTNEN2dCtDSTFNN3hjNUlLY0Y5UUpBSmFmaldlcytFMFBqUHIxL1h6cjBoM3h2dE5qUAozS1VNNVdCWnFtTnJsNXh0RGVxS1VCS3JCY2pWUTE4UCtHY0Fublp5NEFKdmZDaVI1WjZWVm9EN0JRSkFlWFJyCnFSL3BTSmg3NjV3eTliWTM0MmltTTY0cXAzQmROakNLVEVJdG9qLzNhUEZRUzFQQndVN1RiZkpHSEdVcEZaM0EKNlcyVll0MFl3TDBuVXliazNRSkJBTGdVUVVZSUJ3YUlqYTQ5QnpNYkxPaXFMNWV0UlJFREc5TERrOWllTVl2Two3dElNdkcrZ3RRWGRHQlc0dFY0M1dycW1IU1BXbHRydHF2QmE5RzlrcFFjPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQ==
ENV PUBLIC_KEY=LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUlHZk1BMEdDU3FHU0liM0RRRUJBUVVBQTRHTkFEQ0JpUUtCZ1FDMnhybDJZczNYbXJQS0c0UHNOK1k4RVBrYQptYkhxdTRuOU54WUhvNnpIeVlkRVpHUnMxU09GTHZ5QjJ0MCtMK1J1Qm5adG1oTE9sRStYVGszTlVwNTA3TTJFCmZ4anZPUHdadzJXeHFCWkJVNkZzUHRYWjlBNmE5MWQyazU2NDdIUi9aWS9vVGQ5WlhNN09ESmtUT2xUbUpBeFcKTWJwZ3R4ZmU0b3dPVXNmcTZ3SURBUUFCCi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQ==

RUN sh -c 'touch spring-mongodb-0.0.1-SNAPSHOT.jar'

RUN chmod a+x /usr/src/app/*

EXPOSE 8080

CMD java -jar /usr/src/app/spring-mongodb-0.0.1-SNAPSHOT.jar
